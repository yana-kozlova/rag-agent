"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/route";
exports.ids = ["app/api/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("perf_hooks");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_yanakozlova_Documents_AI_ai_sdk_rag_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/chat/route.ts */ \"(rsc)/./app/api/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/route\",\n        pathname: \"/api/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/route\"\n    },\n    resolvedPagePath: \"/Users/yanakozlova/Documents/AI/ai-sdk-rag/app/api/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_yanakozlova_Documents_AI_ai_sdk_rag_app_api_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjRfQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGY2hhdCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2hhdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmNoYXQlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZ5YW5ha296bG92YSUyRkRvY3VtZW50cyUyRkFJJTJGYWktc2RrLXJhZyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ5YW5ha296bG92YSUyRkRvY3VtZW50cyUyRkFJJTJGYWktc2RrLXJhZyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZ0I7QUFDN0Y7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXN0LWFwcGxpY2F0aW9uLz9mY2MxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy95YW5ha296bG92YS9Eb2N1bWVudHMvQUkvYWktc2RrLXJhZy9hcHAvYXBpL2NoYXQvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jaGF0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3lhbmFrb3psb3ZhL0RvY3VtZW50cy9BSS9haS1zZGstcmFnL2FwcC9hcGkvY2hhdC9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2hhdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/chat/route.ts":
/*!*******************************!*\
  !*** ./app/api/chat/route.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   maxDuration: () => (/* binding */ maxDuration)\n/* harmony export */ });\n/* harmony import */ var _lib_actions_resources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/actions/resources */ \"(rsc)/./lib/actions/resources.ts\");\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ai-sdk/openai */ \"(rsc)/./node_modules/.pnpm/@ai-sdk+openai@2.0.53_zod@3.25.76/node_modules/@ai-sdk/openai/dist/index.mjs\");\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/.pnpm/ai@5.0.77_zod@3.25.76/node_modules/ai/dist/index.mjs\");\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/.pnpm/@ai-sdk+provider-utils@3.0.12_zod@3.25.76/node_modules/@ai-sdk/provider-utils/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n/* harmony import */ var _lib_ai_embedding__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/ai/embedding */ \"(rsc)/./lib/ai/embedding.ts\");\n\n\n\n\n\n// Allow streaming responses up to 30 seconds\nconst maxDuration = 30;\nasync function POST(req) {\n    const { messages } = await req.json();\n    const result = (0,ai__WEBPACK_IMPORTED_MODULE_2__.streamText)({\n        model: (0,_ai_sdk_openai__WEBPACK_IMPORTED_MODULE_3__.openai)(\"gpt-4o\"),\n        messages: (0,ai__WEBPACK_IMPORTED_MODULE_2__.convertToModelMessages)(messages),\n        stopWhen: (0,ai__WEBPACK_IMPORTED_MODULE_2__.stepCountIs)(5),\n        system: `You are a helpful assistant. Check your knowledge base before answering any questions.\n    Only respond to questions using information from tool calls.\n    if no relevant information is found in the tool calls, respond, \"Sorry, I don't know.\"`,\n        tools: {\n            addResource: (0,ai__WEBPACK_IMPORTED_MODULE_4__.tool)({\n                description: `add a resource to your knowledge base.\n          If the user provides a random piece of knowledge unprompted, use this tool without asking for confirmation.`,\n                inputSchema: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n                    content: zod__WEBPACK_IMPORTED_MODULE_5__.string().describe(\"the content or resource to add to the knowledge base\")\n                }),\n                execute: async ({ content })=>(0,_lib_actions_resources__WEBPACK_IMPORTED_MODULE_0__.createResource)({\n                        content\n                    })\n            }),\n            getInformation: (0,ai__WEBPACK_IMPORTED_MODULE_4__.tool)({\n                description: `get information from your knowledge base to answer questions.`,\n                inputSchema: zod__WEBPACK_IMPORTED_MODULE_5__.object({\n                    question: zod__WEBPACK_IMPORTED_MODULE_5__.string().describe(\"the users question\")\n                }),\n                execute: async ({ question })=>(0,_lib_ai_embedding__WEBPACK_IMPORTED_MODULE_1__.findRelevantContent)(question)\n            })\n        }\n    });\n    return result.toUIMessageStreamResponse();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDakI7QUFPNUI7QUFDWTtBQUNpQztBQUV6RCw2Q0FBNkM7QUFDdEMsTUFBTVEsY0FBYyxHQUFHO0FBRXZCLGVBQWVDLEtBQUtDLEdBQVk7SUFDckMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBOEIsTUFBTUQsSUFBSUUsSUFBSTtJQUU5RCxNQUFNQyxTQUFTViw4Q0FBVUEsQ0FBQztRQUN4QlcsT0FBT2Isc0RBQU1BLENBQUM7UUFDZFUsVUFBVVQsMERBQXNCQSxDQUFDUztRQUNqQ0ksVUFBVVYsK0NBQVdBLENBQUM7UUFDdEJXLFFBQVEsQ0FBQzs7MEZBRTZFLENBQUM7UUFDdkZDLE9BQU87WUFDTEMsYUFBYWQsd0NBQUlBLENBQUM7Z0JBQ2hCZSxhQUFhLENBQUM7cUhBQytGLENBQUM7Z0JBQzlHQyxhQUFhZCx1Q0FBUSxDQUFDO29CQUNwQmdCLFNBQVNoQix1Q0FDQSxHQUNOa0IsUUFBUSxDQUFDO2dCQUNkO2dCQUNBQyxTQUFTLE9BQU8sRUFBRUgsT0FBTyxFQUFFLEdBQUt0QixzRUFBY0EsQ0FBQzt3QkFBRXNCO29CQUFRO1lBQzNEO1lBQ0FJLGdCQUFnQnRCLHdDQUFJQSxDQUFDO2dCQUNuQmUsYUFBYSxDQUFDLDZEQUE2RCxDQUFDO2dCQUM1RUMsYUFBYWQsdUNBQVEsQ0FBQztvQkFDcEJxQixVQUFVckIsdUNBQVEsR0FBR2tCLFFBQVEsQ0FBQztnQkFDaEM7Z0JBQ0FDLFNBQVMsT0FBTyxFQUFFRSxRQUFRLEVBQUUsR0FBS3BCLHNFQUFtQkEsQ0FBQ29CO1lBQ3ZEO1FBQ0Y7SUFDRjtJQUVBLE9BQU9kLE9BQU9lLHlCQUF5QjtBQUN6QyIsInNvdXJjZXMiOlsid2VicGFjazovL3Rlc3QtYXBwbGljYXRpb24vLi9hcHAvYXBpL2NoYXQvcm91dGUudHM/ZGU0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVSZXNvdXJjZSB9IGZyb20gJ0AvbGliL2FjdGlvbnMvcmVzb3VyY2VzJztcbmltcG9ydCB7IG9wZW5haSB9IGZyb20gJ0BhaS1zZGsvb3BlbmFpJztcbmltcG9ydCB7XG4gIGNvbnZlcnRUb01vZGVsTWVzc2FnZXMsXG4gIHN0cmVhbVRleHQsXG4gIHRvb2wsXG4gIFVJTWVzc2FnZSxcbiAgc3RlcENvdW50SXMsXG59IGZyb20gJ2FpJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgZmluZFJlbGV2YW50Q29udGVudCB9IGZyb20gJ0AvbGliL2FpL2VtYmVkZGluZyc7XG5cbi8vIEFsbG93IHN0cmVhbWluZyByZXNwb25zZXMgdXAgdG8gMzAgc2Vjb25kc1xuZXhwb3J0IGNvbnN0IG1heER1cmF0aW9uID0gMzA7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICBjb25zdCB7IG1lc3NhZ2VzIH06IHsgbWVzc2FnZXM6IFVJTWVzc2FnZVtdIH0gPSBhd2FpdCByZXEuanNvbigpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IHN0cmVhbVRleHQoe1xuICAgIG1vZGVsOiBvcGVuYWkoJ2dwdC00bycpLFxuICAgIG1lc3NhZ2VzOiBjb252ZXJ0VG9Nb2RlbE1lc3NhZ2VzKG1lc3NhZ2VzKSxcbiAgICBzdG9wV2hlbjogc3RlcENvdW50SXMoNSksXG4gICAgc3lzdGVtOiBgWW91IGFyZSBhIGhlbHBmdWwgYXNzaXN0YW50LiBDaGVjayB5b3VyIGtub3dsZWRnZSBiYXNlIGJlZm9yZSBhbnN3ZXJpbmcgYW55IHF1ZXN0aW9ucy5cbiAgICBPbmx5IHJlc3BvbmQgdG8gcXVlc3Rpb25zIHVzaW5nIGluZm9ybWF0aW9uIGZyb20gdG9vbCBjYWxscy5cbiAgICBpZiBubyByZWxldmFudCBpbmZvcm1hdGlvbiBpcyBmb3VuZCBpbiB0aGUgdG9vbCBjYWxscywgcmVzcG9uZCwgXCJTb3JyeSwgSSBkb24ndCBrbm93LlwiYCxcbiAgICB0b29sczoge1xuICAgICAgYWRkUmVzb3VyY2U6IHRvb2woe1xuICAgICAgICBkZXNjcmlwdGlvbjogYGFkZCBhIHJlc291cmNlIHRvIHlvdXIga25vd2xlZGdlIGJhc2UuXG4gICAgICAgICAgSWYgdGhlIHVzZXIgcHJvdmlkZXMgYSByYW5kb20gcGllY2Ugb2Yga25vd2xlZGdlIHVucHJvbXB0ZWQsIHVzZSB0aGlzIHRvb2wgd2l0aG91dCBhc2tpbmcgZm9yIGNvbmZpcm1hdGlvbi5gLFxuICAgICAgICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgIGNvbnRlbnQ6IHpcbiAgICAgICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAgICAgLmRlc2NyaWJlKCd0aGUgY29udGVudCBvciByZXNvdXJjZSB0byBhZGQgdG8gdGhlIGtub3dsZWRnZSBiYXNlJyksXG4gICAgICAgIH0pLFxuICAgICAgICBleGVjdXRlOiBhc3luYyAoeyBjb250ZW50IH0pID0+IGNyZWF0ZVJlc291cmNlKHsgY29udGVudCB9KSxcbiAgICAgIH0pLFxuICAgICAgZ2V0SW5mb3JtYXRpb246IHRvb2woe1xuICAgICAgICBkZXNjcmlwdGlvbjogYGdldCBpbmZvcm1hdGlvbiBmcm9tIHlvdXIga25vd2xlZGdlIGJhc2UgdG8gYW5zd2VyIHF1ZXN0aW9ucy5gLFxuICAgICAgICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgIHF1ZXN0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKCd0aGUgdXNlcnMgcXVlc3Rpb24nKSxcbiAgICAgICAgfSksXG4gICAgICAgIGV4ZWN1dGU6IGFzeW5jICh7IHF1ZXN0aW9uIH0pID0+IGZpbmRSZWxldmFudENvbnRlbnQocXVlc3Rpb24pLFxuICAgICAgfSksXG4gICAgfSxcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdC50b1VJTWVzc2FnZVN0cmVhbVJlc3BvbnNlKCk7XG59Il0sIm5hbWVzIjpbImNyZWF0ZVJlc291cmNlIiwib3BlbmFpIiwiY29udmVydFRvTW9kZWxNZXNzYWdlcyIsInN0cmVhbVRleHQiLCJ0b29sIiwic3RlcENvdW50SXMiLCJ6IiwiZmluZFJlbGV2YW50Q29udGVudCIsIm1heER1cmF0aW9uIiwiUE9TVCIsInJlcSIsIm1lc3NhZ2VzIiwianNvbiIsInJlc3VsdCIsIm1vZGVsIiwic3RvcFdoZW4iLCJzeXN0ZW0iLCJ0b29scyIsImFkZFJlc291cmNlIiwiZGVzY3JpcHRpb24iLCJpbnB1dFNjaGVtYSIsIm9iamVjdCIsImNvbnRlbnQiLCJzdHJpbmciLCJkZXNjcmliZSIsImV4ZWN1dGUiLCJnZXRJbmZvcm1hdGlvbiIsInF1ZXN0aW9uIiwidG9VSU1lc3NhZ2VTdHJlYW1SZXNwb25zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/actions/resources.ts":
/*!**********************************!*\
  !*** ./lib/actions/resources.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $$ACTION_0: () => (/* binding */ $$ACTION_0),\n/* harmony export */   createResource: () => (/* binding */ createResource)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db_schema_resources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db/schema/resources */ \"(rsc)/./lib/db/schema/resources.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../db */ \"(rsc)/./lib/db/index.ts\");\n/* harmony import */ var _ai_embedding__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ai/embedding */ \"(rsc)/./lib/ai/embedding.ts\");\n/* harmony import */ var _db_schema_embeddings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../db/schema/embeddings */ \"(rsc)/./lib/db/schema/embeddings.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"9760adab457b5ba7b885bd3df4b3d9718a443a02\":\"createResource\",\"d10afd7e307e870629af4e96be450e66e60ff2d6\":\"$$ACTION_0\"} */ \n\n\n\n\n\nconst createResource = (0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"d10afd7e307e870629af4e96be450e66e60ff2d6\", $$ACTION_0);\nasync function $$ACTION_0(input) {\n    try {\n        const { content } = _lib_db_schema_resources__WEBPACK_IMPORTED_MODULE_2__.insertResourceSchema.parse(input);\n        const [resource] = await _db__WEBPACK_IMPORTED_MODULE_3__.db.insert(_lib_db_schema_resources__WEBPACK_IMPORTED_MODULE_2__.resources).values({\n            content\n        }).returning();\n        const embeddings = await (0,_ai_embedding__WEBPACK_IMPORTED_MODULE_4__.generateEmbeddings)(content);\n        await _db__WEBPACK_IMPORTED_MODULE_3__.db.insert(_db_schema_embeddings__WEBPACK_IMPORTED_MODULE_5__.embeddings).values(embeddings.map((embedding)=>({\n                resourceId: resource.id,\n                ...embedding\n            })));\n        return \"Resource successfully created and embedded.\";\n    } catch (error) {\n        return error instanceof Error && error.message.length > 0 ? error.message : \"Error, please try again.\";\n    }\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__.ensureServerEntryExports)([\n    createResource\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"9760adab457b5ba7b885bd3df4b3d9718a443a02\", createResource);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWN0aW9ucy9yZXNvdXJjZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBTW1DO0FBQ1I7QUFDMEI7QUFDbUI7QUFFakUsTUFBTU0saUJBQWlCQSwwRkFBQUEseURBdUI1QjswQkF2Qm1DQztJQUNuQyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBR1IsMEVBQW9CQSxDQUFDUyxLQUFLLENBQUNGO1FBRS9DLE1BQU0sQ0FBQ0csU0FBUyxHQUFHLE1BQU1SLG1DQUFFQSxDQUN4QlMsTUFBTSxDQUFDViwrREFBU0EsRUFDaEJXLE1BQU0sQ0FBQztZQUFFSjtRQUFRLEdBQ2pCSyxTQUFTO1FBRVosTUFBTVQsYUFBYSxNQUFNRCxpRUFBa0JBLENBQUNLO1FBQzVDLE1BQU1OLG1DQUFFQSxDQUFDUyxNQUFNLENBQUNOLDZEQUFlQSxFQUFFTyxNQUFNLENBQ3JDUixXQUFXVSxHQUFHLENBQUNDLENBQUFBLFlBQWM7Z0JBQzNCQyxZQUFZTixTQUFTTyxFQUFFO2dCQUN2QixHQUFHRixTQUFTO1lBQ2Q7UUFHRixPQUFPO0lBQ1QsRUFBRSxPQUFPRyxPQUFPO1FBQ2QsT0FBT0EsaUJBQWlCQyxTQUFTRCxNQUFNRSxPQUFPLENBQUNDLE1BQU0sR0FBRyxJQUNwREgsTUFBTUUsT0FBTyxHQUNiO0lBQ047QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Rlc3QtYXBwbGljYXRpb24vLi9saWIvYWN0aW9ucy9yZXNvdXJjZXMudHM/YjJkYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHNlcnZlcic7XG5cbmltcG9ydCB7XG4gIE5ld1Jlc291cmNlUGFyYW1zLFxuICBpbnNlcnRSZXNvdXJjZVNjaGVtYSxcbiAgcmVzb3VyY2VzLFxufSBmcm9tICdAL2xpYi9kYi9zY2hlbWEvcmVzb3VyY2VzJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vZGInO1xuaW1wb3J0IHsgZ2VuZXJhdGVFbWJlZGRpbmdzIH0gZnJvbSAnLi4vYWkvZW1iZWRkaW5nJztcbmltcG9ydCB7IGVtYmVkZGluZ3MgYXMgZW1iZWRkaW5nc1RhYmxlIH0gZnJvbSAnLi4vZGIvc2NoZW1hL2VtYmVkZGluZ3MnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzb3VyY2UgPSBhc3luYyAoaW5wdXQ6IE5ld1Jlc291cmNlUGFyYW1zKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBjb250ZW50IH0gPSBpbnNlcnRSZXNvdXJjZVNjaGVtYS5wYXJzZShpbnB1dCk7XG5cbiAgICBjb25zdCBbcmVzb3VyY2VdID0gYXdhaXQgZGJcbiAgICAgIC5pbnNlcnQocmVzb3VyY2VzKVxuICAgICAgLnZhbHVlcyh7IGNvbnRlbnQgfSlcbiAgICAgIC5yZXR1cm5pbmcoKTtcblxuICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBhd2FpdCBnZW5lcmF0ZUVtYmVkZGluZ3MoY29udGVudCk7XG4gICAgYXdhaXQgZGIuaW5zZXJ0KGVtYmVkZGluZ3NUYWJsZSkudmFsdWVzKFxuICAgICAgZW1iZWRkaW5ncy5tYXAoZW1iZWRkaW5nID0+ICh7XG4gICAgICAgIHJlc291cmNlSWQ6IHJlc291cmNlLmlkLFxuICAgICAgICAuLi5lbWJlZGRpbmcsXG4gICAgICB9KSksXG4gICAgKTtcblxuICAgIHJldHVybiAnUmVzb3VyY2Ugc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYW5kIGVtYmVkZGVkLic7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubWVzc2FnZS5sZW5ndGggPiAwXG4gICAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICAgIDogJ0Vycm9yLCBwbGVhc2UgdHJ5IGFnYWluLic7XG4gIH1cbn07Il0sIm5hbWVzIjpbImluc2VydFJlc291cmNlU2NoZW1hIiwicmVzb3VyY2VzIiwiZGIiLCJnZW5lcmF0ZUVtYmVkZGluZ3MiLCJlbWJlZGRpbmdzIiwiZW1iZWRkaW5nc1RhYmxlIiwiY3JlYXRlUmVzb3VyY2UiLCJpbnB1dCIsImNvbnRlbnQiLCJwYXJzZSIsInJlc291cmNlIiwiaW5zZXJ0IiwidmFsdWVzIiwicmV0dXJuaW5nIiwibWFwIiwiZW1iZWRkaW5nIiwicmVzb3VyY2VJZCIsImlkIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/actions/resources.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/embedding.ts":
/*!*****************************!*\
  !*** ./lib/ai/embedding.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findRelevantContent: () => (/* binding */ findRelevantContent),\n/* harmony export */   generateEmbedding: () => (/* binding */ generateEmbedding),\n/* harmony export */   generateEmbeddings: () => (/* binding */ generateEmbeddings)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ai */ \"(rsc)/./node_modules/.pnpm/ai@5.0.77_zod@3.25.76/node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ai-sdk/openai */ \"(rsc)/./node_modules/.pnpm/@ai-sdk+openai@2.0.53_zod@3.25.76/node_modules/@ai-sdk/openai/dist/index.mjs\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db */ \"(rsc)/./lib/db/index.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/sql/functions/vector.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/sql/expressions/select.js\");\n/* harmony import */ var _db_schema_embeddings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../db/schema/embeddings */ \"(rsc)/./lib/db/schema/embeddings.ts\");\n\n\n\n\n\nconst embeddingModel = _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_2__.openai.embedding(\"text-embedding-ada-002\");\nconst generateChunks = (input)=>{\n    return input.trim().split(\".\").filter((i)=>i !== \"\");\n};\nconst generateEmbeddings = async (value)=>{\n    const chunks = generateChunks(value);\n    const { embeddings } = await (0,ai__WEBPACK_IMPORTED_MODULE_3__.embedMany)({\n        model: embeddingModel,\n        values: chunks\n    });\n    return embeddings.map((e, i)=>({\n            content: chunks[i],\n            embedding: e\n        }));\n};\nconst generateEmbedding = async (value)=>{\n    const input = value.replaceAll(\"\\\\n\", \" \");\n    const { embedding } = await (0,ai__WEBPACK_IMPORTED_MODULE_3__.embed)({\n        model: embeddingModel,\n        value: input\n    });\n    return embedding;\n};\nconst findRelevantContent = async (userQuery)=>{\n    const userQueryEmbedded = await generateEmbedding(userQuery);\n    const similarity = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.sql)`1 - (${(0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.cosineDistance)(_db_schema_embeddings__WEBPACK_IMPORTED_MODULE_1__.embeddings.embedding, userQueryEmbedded)})`;\n    const similarGuides = await _db__WEBPACK_IMPORTED_MODULE_0__.db.select({\n        name: _db_schema_embeddings__WEBPACK_IMPORTED_MODULE_1__.embeddings.content,\n        similarity\n    }).from(_db_schema_embeddings__WEBPACK_IMPORTED_MODULE_1__.embeddings).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.gt)(similarity, 0.5)).orderBy((t)=>(0,drizzle_orm__WEBPACK_IMPORTED_MODULE_7__.desc)(t.similarity)).limit(4);\n    return similarGuides;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkvZW1iZWRkaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ0U7QUFDYjtBQUNpQztBQUNQO0FBRXJELE1BQU1TLGlCQUFpQlAsa0RBQU1BLENBQUNRLFNBQVMsQ0FBQztBQUV4QyxNQUFNQyxpQkFBaUIsQ0FBQ0M7SUFDdEIsT0FBT0EsTUFDSkMsSUFBSSxHQUNKQyxLQUFLLENBQUMsS0FDTkMsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxNQUFNO0FBQ3ZCO0FBRU8sTUFBTUMscUJBQXFCLE9BQ2hDQztJQUVBLE1BQU1DLFNBQVNSLGVBQWVPO0lBQzlCLE1BQU0sRUFBRVYsVUFBVSxFQUFFLEdBQUcsTUFBTVAsNkNBQVNBLENBQUM7UUFDckNtQixPQUFPWDtRQUNQWSxRQUFRRjtJQUNWO0lBQ0EsT0FBT1gsV0FBV2MsR0FBRyxDQUFDLENBQUNDLEdBQUdQLElBQU87WUFBRVEsU0FBU0wsTUFBTSxDQUFDSCxFQUFFO1lBQUVOLFdBQVdhO1FBQUU7QUFDdEUsRUFBRTtBQUVLLE1BQU1FLG9CQUFvQixPQUFPUDtJQUN0QyxNQUFNTixRQUFRTSxNQUFNUSxVQUFVLENBQUMsT0FBTztJQUN0QyxNQUFNLEVBQUVoQixTQUFTLEVBQUUsR0FBRyxNQUFNVix5Q0FBS0EsQ0FBQztRQUNoQ29CLE9BQU9YO1FBQ1BTLE9BQU9OO0lBQ1Q7SUFDQSxPQUFPRjtBQUNULEVBQUU7QUFFSyxNQUFNaUIsc0JBQXNCLE9BQU9DO0lBQ3hDLE1BQU1DLG9CQUFvQixNQUFNSixrQkFBa0JHO0lBQ2xELE1BQU1FLGFBQWF2QixnREFBVyxDQUFDLEtBQUssRUFBRUgsMkRBQWNBLENBQ2xESSw2REFBVUEsQ0FBQ0UsU0FBUyxFQUNwQm1CLG1CQUNBLENBQUMsQ0FBQztJQUNKLE1BQU1FLGdCQUFnQixNQUFNNUIsbUNBQUVBLENBQzNCNkIsTUFBTSxDQUFDO1FBQUVDLE1BQU16Qiw2REFBVUEsQ0FBQ2dCLE9BQU87UUFBRU07SUFBVyxHQUM5Q0ksSUFBSSxDQUFDMUIsNkRBQVVBLEVBQ2YyQixLQUFLLENBQUM3QiwrQ0FBRUEsQ0FBQ3dCLFlBQVksTUFDckJNLE9BQU8sQ0FBQ0MsQ0FBQUEsSUFBS2hDLGlEQUFJQSxDQUFDZ0MsRUFBRVAsVUFBVSxHQUM5QlEsS0FBSyxDQUFDO0lBQ1QsT0FBT1A7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVzdC1hcHBsaWNhdGlvbi8uL2xpYi9haS9lbWJlZGRpbmcudHM/NGE1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlbWJlZCwgZW1iZWRNYW55IH0gZnJvbSAnYWknO1xuaW1wb3J0IHsgb3BlbmFpIH0gZnJvbSAnQGFpLXNkay9vcGVuYWknO1xuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9kYic7XG5pbXBvcnQgeyBjb3NpbmVEaXN0YW5jZSwgZGVzYywgZ3QsIHNxbCB9IGZyb20gJ2RyaXp6bGUtb3JtJztcbmltcG9ydCB7IGVtYmVkZGluZ3MgfSBmcm9tICcuLi9kYi9zY2hlbWEvZW1iZWRkaW5ncyc7XG5cbmNvbnN0IGVtYmVkZGluZ01vZGVsID0gb3BlbmFpLmVtYmVkZGluZygndGV4dC1lbWJlZGRpbmctYWRhLTAwMicpO1xuXG5jb25zdCBnZW5lcmF0ZUNodW5rcyA9IChpbnB1dDogc3RyaW5nKTogc3RyaW5nW10gPT4ge1xuICByZXR1cm4gaW5wdXRcbiAgICAudHJpbSgpXG4gICAgLnNwbGl0KCcuJylcbiAgICAuZmlsdGVyKGkgPT4gaSAhPT0gJycpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlRW1iZWRkaW5ncyA9IGFzeW5jIChcbiAgdmFsdWU6IHN0cmluZyxcbik6IFByb21pc2U8QXJyYXk8eyBlbWJlZGRpbmc6IG51bWJlcltdOyBjb250ZW50OiBzdHJpbmcgfT4+ID0+IHtcbiAgY29uc3QgY2h1bmtzID0gZ2VuZXJhdGVDaHVua3ModmFsdWUpO1xuICBjb25zdCB7IGVtYmVkZGluZ3MgfSA9IGF3YWl0IGVtYmVkTWFueSh7XG4gICAgbW9kZWw6IGVtYmVkZGluZ01vZGVsLFxuICAgIHZhbHVlczogY2h1bmtzLFxuICB9KTtcbiAgcmV0dXJuIGVtYmVkZGluZ3MubWFwKChlLCBpKSA9PiAoeyBjb250ZW50OiBjaHVua3NbaV0sIGVtYmVkZGluZzogZSB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVFbWJlZGRpbmcgPSBhc3luYyAodmFsdWU6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyW10+ID0+IHtcbiAgY29uc3QgaW5wdXQgPSB2YWx1ZS5yZXBsYWNlQWxsKCdcXFxcbicsICcgJyk7XG4gIGNvbnN0IHsgZW1iZWRkaW5nIH0gPSBhd2FpdCBlbWJlZCh7XG4gICAgbW9kZWw6IGVtYmVkZGluZ01vZGVsLFxuICAgIHZhbHVlOiBpbnB1dCxcbiAgfSk7XG4gIHJldHVybiBlbWJlZGRpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZFJlbGV2YW50Q29udGVudCA9IGFzeW5jICh1c2VyUXVlcnk6IHN0cmluZykgPT4ge1xuICBjb25zdCB1c2VyUXVlcnlFbWJlZGRlZCA9IGF3YWl0IGdlbmVyYXRlRW1iZWRkaW5nKHVzZXJRdWVyeSk7XG4gIGNvbnN0IHNpbWlsYXJpdHkgPSBzcWw8bnVtYmVyPmAxIC0gKCR7Y29zaW5lRGlzdGFuY2UoXG4gICAgZW1iZWRkaW5ncy5lbWJlZGRpbmcsXG4gICAgdXNlclF1ZXJ5RW1iZWRkZWQsXG4gICl9KWA7XG4gIGNvbnN0IHNpbWlsYXJHdWlkZXMgPSBhd2FpdCBkYlxuICAgIC5zZWxlY3QoeyBuYW1lOiBlbWJlZGRpbmdzLmNvbnRlbnQsIHNpbWlsYXJpdHkgfSlcbiAgICAuZnJvbShlbWJlZGRpbmdzKVxuICAgIC53aGVyZShndChzaW1pbGFyaXR5LCAwLjUpKVxuICAgIC5vcmRlckJ5KHQgPT4gZGVzYyh0LnNpbWlsYXJpdHkpKVxuICAgIC5saW1pdCg0KTtcbiAgcmV0dXJuIHNpbWlsYXJHdWlkZXM7XG59OyJdLCJuYW1lcyI6WyJlbWJlZCIsImVtYmVkTWFueSIsIm9wZW5haSIsImRiIiwiY29zaW5lRGlzdGFuY2UiLCJkZXNjIiwiZ3QiLCJzcWwiLCJlbWJlZGRpbmdzIiwiZW1iZWRkaW5nTW9kZWwiLCJlbWJlZGRpbmciLCJnZW5lcmF0ZUNodW5rcyIsImlucHV0IiwidHJpbSIsInNwbGl0IiwiZmlsdGVyIiwiaSIsImdlbmVyYXRlRW1iZWRkaW5ncyIsInZhbHVlIiwiY2h1bmtzIiwibW9kZWwiLCJ2YWx1ZXMiLCJtYXAiLCJlIiwiY29udGVudCIsImdlbmVyYXRlRW1iZWRkaW5nIiwicmVwbGFjZUFsbCIsImZpbmRSZWxldmFudENvbnRlbnQiLCJ1c2VyUXVlcnkiLCJ1c2VyUXVlcnlFbWJlZGRlZCIsInNpbWlsYXJpdHkiLCJzaW1pbGFyR3VpZGVzIiwic2VsZWN0IiwibmFtZSIsImZyb20iLCJ3aGVyZSIsIm9yZGVyQnkiLCJ0IiwibGltaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/embedding.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/index.ts":
/*!*************************!*\
  !*** ./lib/db/index.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/postgres-js */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/postgres-js/driver.js\");\n/* harmony import */ var postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! postgres */ \"(rsc)/./node_modules/.pnpm/postgres@3.4.7/node_modules/postgres/src/index.js\");\n/* harmony import */ var _lib_env_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/env.mjs */ \"(rsc)/./lib/env.mjs\");\n\n\n\nconst client = (0,postgres__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_lib_env_mjs__WEBPACK_IMPORTED_MODULE_1__.env.DATABASE_URL);\nconst db = (0,drizzle_orm_postgres_js__WEBPACK_IMPORTED_MODULE_2__.drizzle)(client);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRDtBQUNsQjtBQUNJO0FBRXBDLE1BQU1HLFNBQVNGLG9EQUFRQSxDQUFDQyw2Q0FBR0EsQ0FBQ0UsWUFBWTtBQUNqQyxNQUFNQyxLQUFLTCxnRUFBT0EsQ0FBQ0csUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL3Rlc3QtYXBwbGljYXRpb24vLi9saWIvZGIvaW5kZXgudHM/NmY5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkcml6emxlIH0gZnJvbSBcImRyaXp6bGUtb3JtL3Bvc3RncmVzLWpzXCI7XG5pbXBvcnQgcG9zdGdyZXMgZnJvbSBcInBvc3RncmVzXCI7XG5pbXBvcnQgeyBlbnYgfSBmcm9tIFwiQC9saWIvZW52Lm1qc1wiO1xuXG5jb25zdCBjbGllbnQgPSBwb3N0Z3JlcyhlbnYuREFUQUJBU0VfVVJMKTtcbmV4cG9ydCBjb25zdCBkYiA9IGRyaXp6bGUoY2xpZW50KTtcblxuIl0sIm5hbWVzIjpbImRyaXp6bGUiLCJwb3N0Z3JlcyIsImVudiIsImNsaWVudCIsIkRBVEFCQVNFX1VSTCIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/schema/embeddings.ts":
/*!*************************************!*\
  !*** ./lib/db/schema/embeddings.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   embeddings: () => (/* binding */ embeddings)\n/* harmony export */ });\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./lib/utils.ts\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/vector_extension/vector.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/indexes.js\");\n/* harmony import */ var _resources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resources */ \"(rsc)/./lib/db/schema/resources.ts\");\n\n\n\nconst embeddings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"embeddings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"id\", {\n        length: 191\n    }).primaryKey().$defaultFn(()=>(0,_lib_utils__WEBPACK_IMPORTED_MODULE_0__.nanoid)()),\n    resourceId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"resource_id\", {\n        length: 191\n    }).references(()=>_resources__WEBPACK_IMPORTED_MODULE_1__.resources.id, {\n        onDelete: \"cascade\"\n    }),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"content\").notNull(),\n    embedding: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.vector)(\"embedding\", {\n        dimensions: 1536\n    }).notNull()\n}, (table)=>({\n        embeddingIndex: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.index)(\"embeddingIndex\").using(\"hnsw\", table.embedding.op(\"vector_cosine_ops\"))\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvc2NoZW1hL2VtYmVkZGluZ3MudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUM7QUFDdUM7QUFDcEM7QUFFakMsTUFBTU8sYUFBYUwsNERBQU9BLENBQy9CLGNBQ0E7SUFDRU0sSUFBSUosNERBQU9BLENBQUMsTUFBTTtRQUFFSyxRQUFRO0lBQUksR0FDN0JDLFVBQVUsR0FDVkMsVUFBVSxDQUFDLElBQU1YLGtEQUFNQTtJQUMxQlksWUFBWVIsNERBQU9BLENBQUMsZUFBZTtRQUFFSyxRQUFRO0lBQUksR0FBR0ksVUFBVSxDQUM1RCxJQUFNUCxpREFBU0EsQ0FBQ0UsRUFBRSxFQUNsQjtRQUFFTSxVQUFVO0lBQVU7SUFFeEJDLFNBQVNaLHlEQUFJQSxDQUFDLFdBQVdhLE9BQU87SUFDaENDLFdBQVdaLDJEQUFNQSxDQUFDLGFBQWE7UUFBRWEsWUFBWTtJQUFLLEdBQUdGLE9BQU87QUFDOUQsR0FDQUcsQ0FBQUEsUUFBVTtRQUNSQyxnQkFBZ0JuQiwwREFBS0EsQ0FBQyxrQkFBa0JvQixLQUFLLENBQzNDLFFBQ0FGLE1BQU1GLFNBQVMsQ0FBQ0ssRUFBRSxDQUFDO0lBRXZCLElBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXN0LWFwcGxpY2F0aW9uLy4vbGliL2RiL3NjaGVtYS9lbWJlZGRpbmdzLnRzP2YxMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbmFub2lkIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgaW5kZXgsIHBnVGFibGUsIHRleHQsIHZhcmNoYXIsIHZlY3RvciB9IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xuaW1wb3J0IHsgcmVzb3VyY2VzIH0gZnJvbSAnLi9yZXNvdXJjZXMnO1xuXG5leHBvcnQgY29uc3QgZW1iZWRkaW5ncyA9IHBnVGFibGUoXG4gICdlbWJlZGRpbmdzJyxcbiAge1xuICAgIGlkOiB2YXJjaGFyKCdpZCcsIHsgbGVuZ3RoOiAxOTEgfSlcbiAgICAgIC5wcmltYXJ5S2V5KClcbiAgICAgIC4kZGVmYXVsdEZuKCgpID0+IG5hbm9pZCgpKSxcbiAgICByZXNvdXJjZUlkOiB2YXJjaGFyKCdyZXNvdXJjZV9pZCcsIHsgbGVuZ3RoOiAxOTEgfSkucmVmZXJlbmNlcyhcbiAgICAgICgpID0+IHJlc291cmNlcy5pZCxcbiAgICAgIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9LFxuICAgICksXG4gICAgY29udGVudDogdGV4dCgnY29udGVudCcpLm5vdE51bGwoKSxcbiAgICBlbWJlZGRpbmc6IHZlY3RvcignZW1iZWRkaW5nJywgeyBkaW1lbnNpb25zOiAxNTM2IH0pLm5vdE51bGwoKSxcbiAgfSxcbiAgdGFibGUgPT4gKHtcbiAgICBlbWJlZGRpbmdJbmRleDogaW5kZXgoJ2VtYmVkZGluZ0luZGV4JykudXNpbmcoXG4gICAgICAnaG5zdycsXG4gICAgICB0YWJsZS5lbWJlZGRpbmcub3AoJ3ZlY3Rvcl9jb3NpbmVfb3BzJyksXG4gICAgKSxcbiAgfSksXG4pOyJdLCJuYW1lcyI6WyJuYW5vaWQiLCJpbmRleCIsInBnVGFibGUiLCJ0ZXh0IiwidmFyY2hhciIsInZlY3RvciIsInJlc291cmNlcyIsImVtYmVkZGluZ3MiLCJpZCIsImxlbmd0aCIsInByaW1hcnlLZXkiLCIkZGVmYXVsdEZuIiwicmVzb3VyY2VJZCIsInJlZmVyZW5jZXMiLCJvbkRlbGV0ZSIsImNvbnRlbnQiLCJub3ROdWxsIiwiZW1iZWRkaW5nIiwiZGltZW5zaW9ucyIsInRhYmxlIiwiZW1iZWRkaW5nSW5kZXgiLCJ1c2luZyIsIm9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/schema/embeddings.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/schema/resources.ts":
/*!************************************!*\
  !*** ./lib/db/schema/resources.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   insertResourceSchema: () => (/* binding */ insertResourceSchema),\n/* harmony export */   resources: () => (/* binding */ resources)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/.pnpm/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1/node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-zod */ \"(rsc)/./node_modules/.pnpm/drizzle-zod@0.5.1_drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8_9575bdf29bd7c1ff1614e65b44d0b07c/node_modules/drizzle-zod/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./lib/utils.ts\");\n\n\n\n\nconst resources = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"resources\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.varchar)(\"id\", {\n        length: 191\n    }).primaryKey().$defaultFn(()=>(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.nanoid)()),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"content\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.timestamp)(\"created_at\").notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.sql)`now()`),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.timestamp)(\"updated_at\").notNull().default((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.sql)`now()`)\n});\n// Schema for resources - used to validate API requests\nconst insertResourceSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createSelectSchema)(resources).extend({}).omit({\n    id: true,\n    createdAt: true,\n    updatedAt: true\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvc2NoZW1hL3Jlc291cmNlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBa0M7QUFDc0M7QUFDdkI7QUFHWjtBQUU5QixNQUFNTyxZQUFZSCw0REFBT0EsQ0FBQyxhQUFhO0lBQzVDSSxJQUFJTiw0REFBT0EsQ0FBQyxNQUFNO1FBQUVPLFFBQVE7SUFBSSxHQUM3QkMsVUFBVSxHQUNWQyxVQUFVLENBQUMsSUFBTUwsa0RBQU1BO0lBQzFCTSxTQUFTWCx5REFBSUEsQ0FBQyxXQUFXWSxPQUFPO0lBRWhDQyxXQUFXWCw4REFBU0EsQ0FBQyxjQUNsQlUsT0FBTyxHQUNQRSxPQUFPLENBQUNmLGdEQUFHLENBQUMsS0FBSyxDQUFDO0lBQ3JCZ0IsV0FBV2IsOERBQVNBLENBQUMsY0FDbEJVLE9BQU8sR0FDUEUsT0FBTyxDQUFDZixnREFBRyxDQUFDLEtBQUssQ0FBQztBQUN2QixHQUFHO0FBRUgsdURBQXVEO0FBQ2hELE1BQU1pQix1QkFBdUJaLCtEQUFrQkEsQ0FBQ0UsV0FDcERXLE1BQU0sQ0FBQyxDQUFDLEdBQ1JDLElBQUksQ0FBQztJQUNKWCxJQUFJO0lBQ0pNLFdBQVc7SUFDWEUsV0FBVztBQUNiLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZXN0LWFwcGxpY2F0aW9uLy4vbGliL2RiL3NjaGVtYS9yZXNvdXJjZXMudHM/Y2ZlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcWwgfSBmcm9tIFwiZHJpenpsZS1vcm1cIjtcbmltcG9ydCB7IHRleHQsIHZhcmNoYXIsIHRpbWVzdGFtcCwgcGdUYWJsZSB9IGZyb20gXCJkcml6emxlLW9ybS9wZy1jb3JlXCI7XG5pbXBvcnQgeyBjcmVhdGVTZWxlY3RTY2hlbWEgfSBmcm9tIFwiZHJpenpsZS16b2RcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuXG5leHBvcnQgY29uc3QgcmVzb3VyY2VzID0gcGdUYWJsZShcInJlc291cmNlc1wiLCB7XG4gIGlkOiB2YXJjaGFyKFwiaWRcIiwgeyBsZW5ndGg6IDE5MSB9KVxuICAgIC5wcmltYXJ5S2V5KClcbiAgICAuJGRlZmF1bHRGbigoKSA9PiBuYW5vaWQoKSksXG4gIGNvbnRlbnQ6IHRleHQoXCJjb250ZW50XCIpLm5vdE51bGwoKSxcblxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLmRlZmF1bHQoc3FsYG5vdygpYCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAuZGVmYXVsdChzcWxgbm93KClgKSxcbn0pO1xuXG4vLyBTY2hlbWEgZm9yIHJlc291cmNlcyAtIHVzZWQgdG8gdmFsaWRhdGUgQVBJIHJlcXVlc3RzXG5leHBvcnQgY29uc3QgaW5zZXJ0UmVzb3VyY2VTY2hlbWEgPSBjcmVhdGVTZWxlY3RTY2hlbWEocmVzb3VyY2VzKVxuICAuZXh0ZW5kKHt9KVxuICAub21pdCh7XG4gICAgaWQ6IHRydWUsXG4gICAgY3JlYXRlZEF0OiB0cnVlLFxuICAgIHVwZGF0ZWRBdDogdHJ1ZSxcbiAgfSk7XG5cbi8vIFR5cGUgZm9yIHJlc291cmNlcyAtIHVzZWQgdG8gdHlwZSBBUEkgcmVxdWVzdCBwYXJhbXMgYW5kIHdpdGhpbiBDb21wb25lbnRzXG5leHBvcnQgdHlwZSBOZXdSZXNvdXJjZVBhcmFtcyA9IHouaW5mZXI8dHlwZW9mIGluc2VydFJlc291cmNlU2NoZW1hPjsiXSwibmFtZXMiOlsic3FsIiwidGV4dCIsInZhcmNoYXIiLCJ0aW1lc3RhbXAiLCJwZ1RhYmxlIiwiY3JlYXRlU2VsZWN0U2NoZW1hIiwibmFub2lkIiwicmVzb3VyY2VzIiwiaWQiLCJsZW5ndGgiLCJwcmltYXJ5S2V5IiwiJGRlZmF1bHRGbiIsImNvbnRlbnQiLCJub3ROdWxsIiwiY3JlYXRlZEF0IiwiZGVmYXVsdCIsInVwZGF0ZWRBdCIsImluc2VydFJlc291cmNlU2NoZW1hIiwiZXh0ZW5kIiwib21pdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/schema/resources.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   nanoid: () => (/* binding */ nanoid)\n/* harmony export */ });\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! nanoid */ \"(rsc)/./node_modules/.pnpm/nanoid@5.1.6/node_modules/nanoid/index.js\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/.pnpm/tailwind-merge@2.6.0/node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nconst nanoid = (0,nanoid__WEBPACK_IMPORTED_MODULE_2__.customAlphabet)(\"abcdefghijklmnopqrstuvwxyz0123456789\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0M7QUFDSztBQUNKO0FBRWxDLFNBQVNHLEdBQUcsR0FBR0MsTUFBb0I7SUFDeEMsT0FBT0YsdURBQU9BLENBQUNELDBDQUFJQSxDQUFDRztBQUN0QjtBQUVPLE1BQU1DLFNBQVNMLHNEQUFjQSxDQUFDLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL3Rlc3QtYXBwbGljYXRpb24vLi9saWIvdXRpbHMudHM/Zjc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjdXN0b21BbHBoYWJldCB9IGZyb20gXCJuYW5vaWRcIjtcbmltcG9ydCB7IGNsc3gsIHR5cGUgQ2xhc3NWYWx1ZSB9IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpO1xufVxuXG5leHBvcnQgY29uc3QgbmFub2lkID0gY3VzdG9tQWxwaGFiZXQoXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIik7XG4iXSwibmFtZXMiOlsiY3VzdG9tQWxwaGFiZXQiLCJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIiwibmFub2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils.ts\n");

/***/ }),

/***/ "(rsc)/./lib/env.mjs":
/*!*********************!*\
  !*** ./lib/env.mjs ***!
  \*********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env: () => (/* binding */ env)\n/* harmony export */ });\n/* harmony import */ var _t3_oss_env_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @t3-oss/env-nextjs */ \"(rsc)/./node_modules/.pnpm/@t3-oss+env-nextjs@0.10.1_typescript@5.9.3_zod@3.25.76/node_modules/@t3-oss/env-nextjs/dist/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n/* harmony import */ var dotenv_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv/config */ \"(rsc)/./node_modules/.pnpm/dotenv@16.6.1/node_modules/dotenv/config.js\");\n\n\n\nconst env = (0,_t3_oss_env_nextjs__WEBPACK_IMPORTED_MODULE_0__.createEnv)({\n    server: {\n        NODE_ENV: zod__WEBPACK_IMPORTED_MODULE_2__[\"enum\"]([\n            \"development\",\n            \"test\",\n            \"production\"\n        ]).default(\"development\"),\n        DATABASE_URL: zod__WEBPACK_IMPORTED_MODULE_2__.string().min(1)\n    },\n    client: {\n    },\n    // If you're using Next.js < 13.4.4, you'll need to specify the runtimeEnv manually\n    // runtimeEnv: {\n    //   DATABASE_URL: process.env.DATABASE_URL,\n    //   NEXT_PUBLIC_PUBLISHABLE_KEY: process.env.NEXT_PUBLIC_PUBLISHABLE_KEY,\n    // },\n    // For Next.js >= 13.4.4, you only need to destructure client variables:\n    experimental__runtimeEnv: {\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZW52Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQStDO0FBQ3ZCO0FBQ0Q7QUFFaEIsTUFBTUUsTUFBTUYsNkRBQVNBLENBQUM7SUFDM0JHLFFBQVE7UUFDTkMsVUFBVUgsd0NBQ0gsQ0FBQztZQUFDO1lBQWU7WUFBUTtTQUFhLEVBQzFDSyxPQUFPLENBQUM7UUFDWEMsY0FBY04sdUNBQVEsR0FBR1EsR0FBRyxDQUFDO0lBRS9CO0lBQ0FDLFFBQVE7SUFFUjtJQUNBLG1GQUFtRjtJQUNuRixnQkFBZ0I7SUFDaEIsNENBQTRDO0lBQzVDLDBFQUEwRTtJQUMxRSxLQUFLO0lBQ0wsd0VBQXdFO0lBQ3hFQywwQkFBMEI7SUFFMUI7QUFDRixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVzdC1hcHBsaWNhdGlvbi8uL2xpYi9lbnYubWpzPzc1NzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRW52IH0gZnJvbSBcIkB0My1vc3MvZW52LW5leHRqc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCBcImRvdGVudi9jb25maWdcIjtcblxuZXhwb3J0IGNvbnN0IGVudiA9IGNyZWF0ZUVudih7XG4gIHNlcnZlcjoge1xuICAgIE5PREVfRU5WOiB6XG4gICAgICAuZW51bShbXCJkZXZlbG9wbWVudFwiLCBcInRlc3RcIiwgXCJwcm9kdWN0aW9uXCJdKVxuICAgICAgLmRlZmF1bHQoXCJkZXZlbG9wbWVudFwiKSxcbiAgICBEQVRBQkFTRV9VUkw6IHouc3RyaW5nKCkubWluKDEpLFxuICAgIFxuICB9LFxuICBjbGllbnQ6IHtcbiAgICAvLyBORVhUX1BVQkxJQ19QVUJMSVNIQUJMRV9LRVk6IHouc3RyaW5nKCkubWluKDEpLFxuICB9LFxuICAvLyBJZiB5b3UncmUgdXNpbmcgTmV4dC5qcyA8IDEzLjQuNCwgeW91J2xsIG5lZWQgdG8gc3BlY2lmeSB0aGUgcnVudGltZUVudiBtYW51YWxseVxuICAvLyBydW50aW1lRW52OiB7XG4gIC8vICAgREFUQUJBU0VfVVJMOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwsXG4gIC8vICAgTkVYVF9QVUJMSUNfUFVCTElTSEFCTEVfS0VZOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QVUJMSVNIQUJMRV9LRVksXG4gIC8vIH0sXG4gIC8vIEZvciBOZXh0LmpzID49IDEzLjQuNCwgeW91IG9ubHkgbmVlZCB0byBkZXN0cnVjdHVyZSBjbGllbnQgdmFyaWFibGVzOlxuICBleHBlcmltZW50YWxfX3J1bnRpbWVFbnY6IHtcbiAgICAvLyBORVhUX1BVQkxJQ19QVUJMSVNIQUJMRV9LRVk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BVQkxJU0hBQkxFX0tFWSxcbiAgfSxcbn0pO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUVudiIsInoiLCJlbnYiLCJzZXJ2ZXIiLCJOT0RFX0VOViIsImVudW0iLCJkZWZhdWx0IiwiREFUQUJBU0VfVVJMIiwic3RyaW5nIiwibWluIiwiY2xpZW50IiwiZXhwZXJpbWVudGFsX19ydW50aW1lRW52Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/env.mjs\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@vercel+oidc@3.0.3","vendor-chunks/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/@opentelemetry+api@1.9.0","vendor-chunks/drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8.16.3_postgres@3.4.7_react@18.3.1","vendor-chunks/zod@3.25.76","vendor-chunks/postgres@3.4.7","vendor-chunks/dotenv@16.6.1","vendor-chunks/nanoid@5.1.6","vendor-chunks/eventsource-parser@3.0.6","vendor-chunks/tailwind-merge@2.6.0","vendor-chunks/drizzle-zod@0.5.1_drizzle-orm@0.31.4_@opentelemetry+api@1.9.0_@types+react@18.3.26_pg@8_9575bdf29bd7c1ff1614e65b44d0b07c","vendor-chunks/clsx@2.1.1","vendor-chunks/ai@5.0.77_zod@3.25.76","vendor-chunks/@t3-oss+env-nextjs@0.10.1_typescript@5.9.3_zod@3.25.76","vendor-chunks/@t3-oss+env-core@0.10.1_typescript@5.9.3_zod@3.25.76","vendor-chunks/@ai-sdk+provider@2.0.0","vendor-chunks/@ai-sdk+provider-utils@3.0.12_zod@3.25.76","vendor-chunks/@ai-sdk+openai@2.0.53_zod@3.25.76","vendor-chunks/@ai-sdk+gateway@2.0.0_zod@3.25.76"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.4_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2Froute&page=%2Fapi%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2Froute.ts&appDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyanakozlova%2FDocuments%2FAI%2Fai-sdk-rag&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();